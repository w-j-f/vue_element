(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cf18d734"],{1175:function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"paymentWrap"},[i("header",[i("router-link",{attrs:{to:"/dist"}},[i("i",{staticClass:"el-icon-arrow-left"})]),i("div",{staticClass:"ellipsis"},[t._v("在线支付")])],1),i("div",{staticClass:"show_time_amount"},[i("section",[i("div",{staticClass:"time_last"},[t._v("支付剩余时间")]),i("p",{staticClass:"time"},[t._v("00 : "+t._s(t.minute)+" : "+t._s(t.second))])])]),i("div",{staticClass:"pay_way"},[t._v("选择支付方式")]),i("section",{staticClass:"pay_way_list"},[i("section",{staticClass:"pay_item"},[t._m(0),i("i",{staticClass:"choose_icon choosed_way el-icon-success",style:1==t.active?"color:green":"",on:{click:t.choose1}})]),i("section",{staticClass:"pay_item"},[t._m(1),i("i",{staticClass:"choose_icon el-icon-success",style:2==t.active1?"color:green":"",on:{click:t.choose2}})])]),i("p",{staticClass:"determine",on:{click:t.surePay}},[t._v("确认支付")])])},a=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"pay_icon_contaienr"},[i("div",{staticClass:"zhifubao"}),i("span",[t._v("支付宝")])])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"pay_icon_contaienr"},[i("div",{staticClass:"weixin"}),i("span",[t._v("微信")])])}],c=(i("4160"),i("b0c0"),i("b64b"),i("159b"),i("5530")),r={name:"Payment",data:function(){return{auth_time:900,minute:15,second:"00",active:0,active1:0,userid:"",cartid:"",shopId:"",entities:[],address_id:""}},created:function(){var t=this;this.userid=localStorage.getItem("userid"),console.log(this.userid),this.cartid=localStorage.getItem("cartid"),this.shopId=localStorage.getItem("shopId"),this.$store.commit("init_buy_cart"),this.carArr=[],this.shopCarts=this.$store.state.cartList,Object.keys(this.shopCarts).forEach((function(s){Object.keys(t.shopCarts[s]).forEach((function(i){Object.keys(t.shopCarts[s][i]).forEach((function(e){Object.keys(t.shopCarts[s][i][e]).forEach((function(a){var r=t.shopCarts[s][i][e][a],o=Object(c["a"])({},r,{category_id:i,item_id:e,food_id:a,shopId:s});o.shopId==t.shopId&&t.carArr.push(o)}))}))}))}));for(var s=0;s<this.carArr.length;s++){var i=[{attrs:[],extra:{},id:this.carArr[s].id,name:this.carArr[s].name,price:this.carArr[s].price,packing_fee:this.carArr[s].packing_fee,quantity:this.carArr[s].num,sku_id:this.carArr[s].sku_id,specs:this.carArr[s].specs,stock:this.carArr[s].stock}];this.entities.push(i)}var e=setInterval((function(){t.auth_time-=1,t.auth_time<=0&&(t.isShow2=!0,clearInterval(e)),t.minute=Math.floor(t.auth_time/60),t.second=t.auth_time%60,t.second<10&&(t.second="0"+t.second),t.minute<10&&(t.minute="0"+t.minute)}),1e3)},methods:{choose1:function(){this.active1=0,this.active=1},choose2:function(){this.active1=2,this.active=0},surePay:function(){this.axios.post("v1/users/"+this.userid+"/carts/"+this.cartid+"/orders",{user_id:this.userid,cart_id:this.cartid,address_id:19777,restaurant_id:this.shopId,entities:this.entities}).then((function(t){console.log(t)})).catch((function(t){})),this.$router.push("/order")}}},o=r,n=(i("f56a"),i("2877")),h=Object(n["a"])(o,e,a,!1,null,"53b162b7",null);s["default"]=h.exports},b568:function(t,s,i){},f56a:function(t,s,i){"use strict";var e=i("b568"),a=i.n(e);a.a}}]);
//# sourceMappingURL=chunk-cf18d734.29a89f0d.js.map